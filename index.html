<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ‹æ„›ã‚³ã‚¢ã‚¿ã‚¤ãƒ—è¨ºæ–­</title>
  <style>
    :root {
      --pink:#fb6ea9;
      --teal:#22c3b9;
      --line:#e5e7eb;
      --text:#0f172a;
      --muted:#6b7280;
    }
    * { box-sizing:border-box; }
    body {
      font-family: "Noto Sans JP", sans-serif;
      background:#fafafa;
      color:var(--text);
      margin:0;
    }
    .wrap {
      max-width:880px;
      margin:24px auto;
      padding:0 18px 40px;
    }
    .card {
      background:#fff;
      border:1px solid var(--line);
      border-radius:16px;
      box-shadow:0 8px 26px rgba(0,0,0,0.05);
      padding:28px;
    }
    h1 { font-size:24px; text-align:center; margin-bottom:8px; }
    .muted { color:var(--muted); font-size:13px; text-align:center; }
    .progress {
      position:sticky;top:0;
      height:8px;
      background:var(--line);
      border-bottom:1px solid var(--line);
      z-index:10;
    }
    .bar {
      height:100%;
      background:linear-gradient(90deg,var(--pink),var(--teal));
      width:0%;
      transition:width .3s ease;
    }

    /* è³ªå• */
    .q { padding:22px 0; border-bottom:1px solid var(--line); }
    .q:last-child { border-bottom:0; }
    .q h3 { text-align:center; font-size:18px; margin-bottom:8px; }
    .scale-row {
      display:grid;
      grid-template-columns: auto 1fr auto;
      align-items:center;
      margin:8px 0 22px;
      column-gap:10px;
    }
    .scale-label {
      font-size:13px;
      color:var(--muted);
      white-space:nowrap;
    }
    .heart-row {
      display:flex;
      justify-content:center;
      gap:10px;
    }
    .heart {
      width:38px;
      cursor:pointer;
      transition:transform .15s ease, opacity .15s ease;
    }
    .heart:hover { transform:scale(1.1); opacity:0.9; }
    .actions {
      display:flex;
      justify-content:center;
      margin-top:18px;
    }
    button {
      background:#ff8fab;
      border:none;
      padding:10px 18px;
      border-radius:30px;
      color:#fff;
      cursor:pointer;
      font-weight:bold;
      transition:background 0.3s ease;
    }
    button:hover { background:#ff5f87; }

    /* çµæœã‚«ãƒ¼ãƒ‰ */
    .hidden { display:none; }
    .result-card {
      background:rgba(255,255,255,0.9);
      backdrop-filter:blur(10px);
      border-radius:20px;
      padding:28px;
      box-shadow:0 8px 25px rgba(0,0,0,0.08);
      text-align:center;
      margin-top:30px;
    }
    .result-header h2 { font-size:20px; margin-bottom:8px; }
    .result-tag {
      display:inline-block;
      background:linear-gradient(90deg,#ffb6c1,#ffd700);
      color:#fff;
      font-weight:bold;
      padding:6px 16px;
      border-radius:50px;
      font-size:14px;
      margin-bottom:12px;
    }
    .result-list {
      background:#fff;
      border:1px solid #eee;
      border-radius:12px;
      padding:16px 20px;
      margin:18px 0;
      text-align:left;
      list-style-type:"ğŸ’— ";
    }
    .result-image img {
      width:100%;
      border-radius:16px;
      margin:18px 0;
      box-shadow:0 6px 18px rgba(0,0,0,0.1);
    }
    .result-name {
      font-weight:bold;
      font-size:16px;
      margin-top:8px;
    }
    .result-text { margin-bottom:14px; }

    /* SPèª¿æ•´ */
    @media (max-width:480px){
      .scale-label{font-size:12px;}
      .heart{width:30px;}
      .heart.small{width:24px;}
    }
  </style>
</head>
<body>
<div class="wrap">
  <div class="progress"><div id="barFill" class="bar"></div></div>

  <section id="formCard" class="card">
    <h1>æ‹æ„›ã‚³ã‚¢ã‚¿ã‚¤ãƒ—è¨ºæ–­ <span class="muted">ï¼ˆå…¨7å•ãƒ»3åˆ†ï¼‰</span></h1>
    <p class="muted">ç›´æ„Ÿã§é¸ã‚“ã§ãã ã•ã„ã€‚ãƒãƒ¼ãƒˆã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã ã‘ã€‚</p>
    <form id="quiz"></form>
    <div class="actions"><button id="submitBtn">çµæœã‚’è¦‹ã‚‹</button></div>
  </section>

  <section id="resultCard" class="result-card hidden">
    <div class="result-header">
      <h2>ã‚ãªãŸã®å°†æ¥ã®å¥¥ã•ã‚“ã¨ã—ã¦ã´ã£ãŸã‚Šãªã®ã¯ãƒ»ãƒ»ãƒ»</h2>
      <span class="result-tag">ç²è¯ ğŸ’›</span>
    </div>
    <ul class="result-list">
      <li>æ„›æƒ…æ·±ãã¦ã„ã¤ã‚‚happy</li>
      <li>ã‹ã¾ã£ã¦ã‚ã’ãªã„ã¨ãŸã¾ã«çˆ†ç™ºãƒ»ãƒ»ãƒ»ï¼Ÿ</li>
      <li>æ„›ã§ã¦ã‚ã’ã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ãä¸Šæ©Ÿå«Œ</li>
      <li>ã‚Šã‚…ã†ãã‚“ã®ã“ã¨ãŒã‚„ã‘ã«å¥½ã</li>
    </ul>
    <div class="result-image">
      <img src="IMG_5863.jpg" alt="è¨ºæ–­çµæœã®ç”»åƒ">
    </div>
    <p class="result-name">ã‚³ãƒ¼ãƒ«ãƒãƒ³ ç²è¯</p>
    <p class="result-text">ã©ã†ï¼Ÿï¼Ÿ</p>
    <div class="actions">
      <button id="shareBtn">çµæœã‚’ã‚·ã‚§ã‚¢</button>
      <button id="againBtn">ã‚‚ã†ä¸€åº¦ã‚„ã‚‹</button>
    </div>
  </section>
</div>

<script>
const QUESTIONS = [
  {text:'æ‹æ„›ã§ã¯è‡ªåˆ†ã‹ã‚‰è¿½ã†ã“ã¨ãŒå¤šã„'},
  {text:'ç›¸æ‰‹ã®æ—¢èª­ã‚„äºˆå®šã¯ã§ãã‚‹ã ã‘æŠŠæ¡ã—ãŸã„'},
  {text:'é€£çµ¡ã¯æ¯æ—¥ã§ã‚‚å¹³æ°—ï¼ˆã‚€ã—ã‚å®‰å¿ƒã™ã‚‹ï¼‰'},
  {text:'ã‚±ãƒ³ã‚«å¾Œã¯è‡ªåˆ†ã‹ã‚‰æ­©ã¿å¯„ã‚‹ã“ã¨ãŒå¤šã„'},
  {text:'ç›¸æ‰‹ãŒç•°æ€§ã¨2äººã§å‡ºã‹ã‘ã‚‹ã®ã¯åŸºæœ¬NGã '},
  {text:'ã‚¹ã‚­ãƒ³ã‚·ãƒƒãƒ—ã‚„è¨€è‘‰ã§ã®æ„›æƒ…è¡¨ç¾ã¯å¤šã„æ–¹ãŒã„ã„'},
  {text:'ã‚µãƒ—ãƒ©ã‚¤ã‚ºã‚ˆã‚Šå®‰å®šã—ãŸæ—¥å¸¸ã®æ–¹ãŒå¥½ã'},
];

const quiz = document.getElementById('quiz');
const bar = document.getElementById('barFill');
const formCard = document.getElementById('formCard');
const resultCard = document.getElementById('resultCard');
const shareBtn = document.getElementById('shareBtn');
const againBtn = document.getElementById('againBtn');

let answers = new Array(QUESTIONS.length).fill(null);

QUESTIONS.forEach((q,i)=>{
  const blk=document.createElement('div');
  blk.className='q';
  blk.innerHTML=`
    <h3>${q.text}</h3>
    <div class="scale-row">
      <span class="scale-label">ã¨ã¦ã‚‚ãã†æ€ã†</span>
      <div class="heart-row">
        ${[1,2,3,4,5].map(j=>
          `<span class="heart" data-q="${i}" data-v="${j}">
             <svg viewBox="0 0 24 24" fill="none" stroke="${j<=3?'#fb6ea9':'#22c3b9'}" stroke-width="2">
               <path d="M12 21s-6.9-5.7-9-9.1C1 8.5 2.9 4.2 6.5 4.1c1.9 0 3.4 1.2 4.2 2.7.8-1.5 2.3-2.7 4.2-2.7 3.6.1 5.5 4.4 3.5 7.8C18.9 15.3 12 21 12 21z"/>
             </svg>
           </span>`).join('')}
      </div>
      <span class="scale-label">ã¾ã£ãŸããã†æ€ã‚ãªã„</span>
    </div>`;
  quiz.appendChild(blk);
});

document.querySelectorAll('.heart').forEach(h=>{
  h.addEventListener('click',()=>{
    const q = h.dataset.q;
    answers[q] = h.dataset.v;
    updateProgress();
  });
});

function updateProgress(){
  const done = answers.filter(v=>v!=null).length;
  const pct = Math.round(done / answers.length * 100);
  bar.style.width = pct + '%';
}

document.getElementById('submitBtn').addEventListener('click',(e)=>{
  e.preventDefault();
  formCard.classList.add('hidden');
  resultCard.classList.remove('hidden');
  window.scrollTo({top:0,behavior:'smooth'});
});

shareBtn.addEventListener('click', async ()=>{
  const text = 'è¨ºæ–­ãŒçµ‚ã‚ã£ãŸã‚ˆï¼çµæœï¼šã‚³ãƒ¼ãƒ«ãƒãƒ³ç²è¯ğŸ’›';
  try {
    await navigator.clipboard.writeText(text);
    alert('çµæœã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
  } catch {
    alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
  }
});

againBtn.addEventListener('click',()=>{
  location.reload();
});
</script>
</body>
</html>
