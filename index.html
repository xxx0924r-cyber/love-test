<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ‹æ„›ã‚³ã‚¢ã‚¿ã‚¤ãƒ—è¨ºæ–­</title>
  <style>
    :root{
      --pink:#fb6ea9; --teal:#22c3b9; --line:#e5e7eb; --text:#0f172a; --muted:#6b7280;
    }
    *{box-sizing:border-box}
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP",sans-serif;
      margin:0; background:#fafafa; color:var(--text);
    }
    .wrap{max-width:880px;margin:24px auto;padding:0 18px 40px}
    .card{background:#fff;border:1px solid var(--line);border-radius:16px;box-shadow:0 8px 26px rgba(0,0,0,.05);padding:22px}
    h1{margin:6px 0 4px;font-size:24px;text-align:center}
    .muted{color:var(--muted);font-size:12px}
    .center{text-align:center}
    .hidden{display:none}

    /* progress */
    .progress{position:sticky;top:0;background:#fff;padding:10px 0;z-index:10;border-bottom:1px solid var(--line)}
    .bar{height:8px;border-radius:999px;background:var(--line);overflow:hidden}
    .bar>span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--pink),var(--teal));transition:width .25s ease}

    /* questions */
    .q{padding:22px 0;border-bottom:1px solid var(--line)}
    .q:last-child{border-bottom:0}
    .q h3{margin:0 0 12px;font-size:20px;text-align:center}

    /* ãƒ©ãƒ™ãƒ«ï¼‹ãƒãƒ¼ãƒˆã®ä¸¦ã³ */
    .scale-row{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:24px;
      margin:10px 0 25px;
      flex-wrap:wrap;
    }
    .scale-label{
      font-size:13px;
      color:var(--muted);
      white-space:nowrap;
    }
    .heart-row{
      display:flex;
      gap:14px;
      justify-content:center;
      align-items:center;
    }

    .heart{width:38px;cursor:pointer;transition:transform .12s ease, opacity .12s ease}
    .heart.small{width:30px}

    /* æ—¢å®šã¯è–„ã */
    .heart svg{opacity:.4;transition:all .2s ease}
    .heart:hover svg{opacity:.8;transform:scale(1.1)}
    /* é¸æŠæ™‚ã®å¼·èª¿ï¼ˆJSã§ class="on" ã‚’ä»˜ä¸ï¼‰ */
    .heart.on svg{fill:var(--pink);opacity:1;transform:scale(1.2)}

    /* actions / buttons */
    .actions{display:flex;justify-content:space-between;align-items:center;margin-top:16px}
    button{background:#111;color:#fff;border:0;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}

    /* result */
    .result-title{font-size:22px;text-align:center;margin:6px 0 12px}
    .tag{display:inline-block;background:#fde68a;border-radius:10px;padding:4px 10px;margin:4px 0}
    .result-box{border:1px solid var(--line);border-radius:14px;padding:16px;background:#fff}
    /* ------ SPç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ ------ */
@media (max-width: 480px) {
  /* å·¦ãƒ©ãƒ™ãƒ« | ãƒãƒ¼ãƒˆ | å³ãƒ©ãƒ™ãƒ« ã‚’3ã‚«ãƒ©ãƒ ã§å›ºå®š */
  .scale-row{
    display: grid !important;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    column-gap: 10px;
    margin: 6px 0 18px;
  }
  .scale-label{
    font-size: 12px;
    color: var(--muted);
    white-space: nowrap;   /* æŠ˜ã‚Šè¿”ã—é˜²æ­¢ */
  }
  /* ãƒãƒ¼ãƒˆã‚’å°‘ã—å°ã•ãã—ã¦å¹…ã«åã‚ã‚‹ */
  .heart{ width: 28px; }
  .heart.small{ width: 22px; }
}

/* ã•ã‚‰ã«ç‹­ã„ç«¯æœ«å‘ã‘ã®å¾®èª¿æ•´ */
@media (max-width: 360px) {
  .heart{ width: 24px; }
  .heart.small{ width: 20px; }
  .scale-label{ font-size: 11px; }
}

  </style>
</head>
<body>
  <img src="ChatGPT Image 2025å¹´11æœˆ5æ—¥ 00_16_31.png" alt="æ‹æ„›ã‚³ã‚¢ã‚¿ã‚¤ãƒ—è¨ºæ–­ãƒãƒŠãƒ¼" style="width:100%;border-radius:12px;margin-bottom:20px;">

  <!-- progress -->
  <div class="progress">
    <div class="wrap" style="padding-bottom:0">
      <div class="muted" id="pctText">é€²æ— 0%</div>
      <div class="bar"><span id="barFill"></span></div>
    </div>
  </div>

  <div class="wrap">
    <!-- è³ªå•ã‚«ãƒ¼ãƒ‰ -->
    <section id="formCard" class="card">
      <h1>æ‹æ„›ã‚³ã‚¢ã‚¿ã‚¤ãƒ—è¨ºæ–­ <span class="muted">ï¼ˆå…¨7å•ï¼‰</span></h1>
      <p class="muted center">ç›´æ„Ÿã§é¸ã‚“ã§ãã ã•ã„ã€‚ãƒãƒ¼ãƒˆã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã ã‘ã€‚</p>
      <form id="quiz">
        <div id="qWrap"></div>
        <div class="actions">
          <div class="muted">è¨ºæ–­ID: <code>KM-01</code></div>
          <button type="submit">çµæœã‚’è¦‹ã‚‹</button>
        </div>
      </form>
    </section>

    <!-- çµæœã‚«ãƒ¼ãƒ‰ -->
    <section id="resultCard" class="card hidden">
      <div class="muted">è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ / 2025</div>
      <h2 class="result-title">ã‚ãªãŸã®å°†æ¥ã®å¥¥ã•ã‚“ã¨ã—ã¦ã´ã£ãŸã‚Šãªã®ã¯ãƒ»ãƒ»ãƒ»</h2>
      <div class="center"><span class="tag">ç²è¯ï¼</span></div>

      <div class="result-box" style="margin-top:12px">
        <ul style="margin:0;padding-left:18px;line-height:1.9">
          <li>æ„›æƒ…æ·±ãã¦ã„ã¤ã‚‚happy</li>
          <li>ã‹ã¾ã£ã¦ã‚ã’ãªã„ã¨ãŸã¾ã«çˆ†ç™ºãƒ»ãƒ»ãƒ»ï¼Ÿ</li>
          <li>æ„›ã§ã¦ã‚ã’ã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ãä¸Šæ©Ÿå«Œ</li>
          <li>ã‚Šã‚…ã†ãã‚“ã®ã“ã¨ãŒã‚„ã‘ã«å¥½ã</li>
        </ul>
      </div>

      <!-- è¨ºæ–­ç”»åƒï¼ˆã‚¢ãƒƒãƒ—æ¸ˆã¿: IMG_5863.jpgï¼‰ -->
      <img src="IMG_5863.jpg" alt="è¨ºæ–­çµæœã®ç”»åƒ" style="width:100%;border-radius:14px;margin:20px 0;">

      <p class="center" style="margin-top:14px;font-weight:700">ã‚³ãƒ¼ãƒ«ãƒãƒ³ ç²è¯<br>ã©ã†ï¼Ÿï¼Ÿ</p>

      <div class="center" style="margin-top:10px">
        <button id="shareBtn">çµæœã‚’ã‚·ã‚§ã‚¢</button>
        <button id="againBtn" style="margin-left:8px;background:#555">ã‚‚ã†ä¸€åº¦ã‚„ã‚‹</button>
      </div>
    </section>
  </div>

  <script>
    // è¨­å•ï¼ˆç²¾åº¦ä¸Šã’ç‰ˆï¼‰
    const QUESTIONS = [
      { text: 'æ‹æ„›ã§ã¯è‡ªåˆ†ã‹ã‚‰è¿½ã†ã“ã¨ãŒå¤šã„' },
      { text: 'ç›¸æ‰‹ã®æ—¢èª­ã‚„äºˆå®šã¯ã§ãã‚‹ã ã‘æŠŠæ¡ã—ãŸã„' },
      { text: 'é€£çµ¡ã¯æ¯æ—¥ã§ã‚‚å¹³æ°—ï¼ˆã‚€ã—ã‚å®‰å¿ƒã™ã‚‹ï¼‰' },
      { text: 'ã‚±ãƒ³ã‚«å¾Œã¯è‡ªåˆ†ã‹ã‚‰æ­©ã¿å¯„ã‚‹ã“ã¨ãŒå¤šã„' },
      { text: 'ç›¸æ‰‹ãŒç•°æ€§ã¨2äººã§å‡ºã‹ã‘ã‚‹ã®ã¯åŸºæœ¬NGã ' },
      { text: 'ã‚¹ã‚­ãƒ³ã‚·ãƒƒãƒ—ã‚„è¨€è‘‰ã§ã®æ„›æƒ…è¡¨ç¾ã¯å¤šã„æ–¹ãŒã„ã„' },
      { text: 'ã‚µãƒ—ãƒ©ã‚¤ã‚ºã‚ˆã‚Šå®‰å®šã—ãŸæ—¥å¸¸ã®æ–¹ãŒå¥½ã' }
    ];

    const form = document.getElementById('quiz');
    const qWrap = document.getElementById('qWrap');
    const formCard = document.getElementById('formCard');
    const resultCard = document.getElementById('resultCard');
    const shareBtn = document.getElementById('shareBtn');
    const againBtn = document.getElementById('againBtn');
    const barFill = document.getElementById('barFill');
    const pctText = document.getElementById('pctText');

    // ãƒãƒ¼ãƒˆSVGï¼ˆè‰²ã¯CSSã§å¡—ã‚‹ã®ã§ç·šã®ã¿ï¼‰
    const heart = (stroke) => `
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path fill="none" stroke="${stroke}" stroke-width="2"
          d="M12 21s-6.7-4.6-9.2-8.1C1 10.2 1.5 7.2 3.7 5.8c2.1-1.5 4.8-.9 6.3 1.1 1.5-2 4.2-2.6 6.3-1.1 2.2 1.4 2.7 4.4.9 7.1C18.7 16.3 12 21 12 21z"/>
      </svg>
    `;

    const answers = new Array(QUESTIONS.length).fill(null);

    // æç”»
    const render = () => {
      qWrap.innerHTML = "";
      QUESTIONS.forEach((q,i)=>{
        const blk = document.createElement('div'); blk.className='q';
        const h = document.createElement('h3'); h.textContent = q.text; blk.appendChild(h);

        // æ¨ªä¸¦ã³ã‚³ãƒ³ãƒ†ãƒŠ
        const scaleRow = document.createElement('div'); scaleRow.className = 'scale-row';

        // å·¦ãƒ©ãƒ™ãƒ«
        const leftLabel = document.createElement('div');
        leftLabel.className = 'scale-label';
        leftLabel.textContent = 'ã¨ã¦ã‚‚
          ãã†æ€ã†';

        // ãƒãƒ¼ãƒˆç¾¤
        const heartRow = document.createElement('div'); heartRow.className = 'heart-row';
        const palette = ['var(--pink)','var(--pink)','var(--muted)','var(--teal)','var(--teal)'];
        for(let j=0;j<5;j++){
          const span = document.createElement('span');
          span.className = 'heart'+(j===2?' small':'');
          const color = getComputedStyle(document.documentElement)
            .getPropertyValue(palette[j].replace('var(','').replace(')','')).trim() || '#ccc';
          span.innerHTML = heart(color);
          span.addEventListener('click',()=>{
            answers[i]=j;
            updateProgress();
            highlight(i);
          });
          heartRow.appendChild(span);
        }

        // å³ãƒ©ãƒ™ãƒ«
        const rightLabel = document.createElement('div');
        rightLabel.className = 'scale-label';
        rightLabel.textContent = 'ã¾ã£ãŸã
          ãã†æ€ã‚ãªã„';

        scaleRow.appendChild(leftLabel);
        scaleRow.appendChild(heartRow);
        scaleRow.appendChild(rightLabel);
        blk.appendChild(scaleRow);

        qWrap.appendChild(blk);
      });
    };

    // é¸æŠä¸­ã®ãƒãƒ¼ãƒˆã ã‘å¼·èª¿
    function highlight(idx){
      const block = qWrap.querySelectorAll('.q')[idx];
      const hearts = block.querySelectorAll('.heart');
      hearts.forEach((h,k)=>{
        if(answers[idx]===k){ h.classList.add('on'); }
        else{ h.classList.remove('on'); }
      });
    }

    // é€²æ—ãƒãƒ¼
    function updateProgress(){
      const done = answers.filter(v=>v!==null).length;
      const pct = Math.round(done/answers.length*100);
      barFill.style.width = pct+'%';
      pctText.textContent = `é€²æ— ${pct}%`;
    }

    render(); updateProgress();

    // é€ä¿¡â†’çµæœã‚«ãƒ¼ãƒ‰ã«åˆ‡æ›¿
    form.addEventListener('submit',(e)=>{
      e.preventDefault();
      formCard.classList.add('hidden');
      resultCard.classList.remove('hidden');
      window.scrollTo({top:0,behavior:'smooth'});
    });

    // ã‚·ã‚§ã‚¢ï¼ˆãƒ¡ãƒƒã‚»æ–‡ã‚³ãƒ”ãƒ¼ï¼‰
    shareBtn.addEventListener('click', async ()=>{
      const text = 'è¨ºæ–­çµ‚ã‚ã£ãŸã‚ˆï¼å°†æ¥ã®å¥¥ã•ã‚“ã¯ã€Œç²è¯ã€ã‚‰ã—ã„ğŸ¤£';
      try{
        await navigator.clipboard.writeText(text);
        shareBtn.textContent = 'ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆï¼ˆã‚¹ã‚¯ã‚·ãƒ§ã‚‚é€ã£ã¦ï¼ï¼‰';
        setTimeout(()=> shareBtn.textContent='çµæœã‚’ã‚·ã‚§ã‚¢', 2200);
      }catch{
        alert('çµæœç”»é¢ã‚’ã‚¹ã‚¯ã‚·ãƒ§ã—ã¦é€ã£ã¦ã­ï¼');
      }
    });

    // ã‚‚ã†ä¸€åº¦
    againBtn.addEventListener('click', ()=>{
      answers.fill(null);
      render(); updateProgress();
      resultCard.classList.add('hidden');
      formCard.classList.remove('hidden');
      window.scrollTo({top:0,behavior:'smooth'});
    });
  </script>
</body>
</html>
